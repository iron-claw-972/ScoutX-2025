{"ast":null,"code":"import { DriverStation, MatchStage, StartPosition } from \"./MatchConstants\";\nimport { Scouters } from \"./Scouters\";\nimport { doc, getFirestore, setDoc } from \"firebase/firestore\";\nconst intakeLocations = [\"NO INTAKES\", \"CENTER 1\", \"CENTER 2\", \"CENTER 3\", \"CENTER 4\", \"GROUND\", \"SUBSTATION\", \"MISSED\"];\nconst dock = [\"Not Docked\", \"Docked and Not Engaged\", \"Docked and Engaged\"];\nconst defaultData = [{\n  prematchstage: MatchStage.PRE_MATCH,\n  team: null,\n  match: null,\n  name: null,\n  alliance: null,\n  driver_station: null,\n  start_position: null\n}, {\n  autostage: MatchStage.AUTO,\n  leave: false,\n  dock: dock[0],\n  io: [{\n    intake: \"PRELOAD\"\n  }],\n  cubeCounts: {\n    top: [],\n    middle: [],\n    bottom: []\n  },\n  coneCounts: {\n    top: [],\n    middle: [],\n    bottom: []\n  },\n  missedCounts: []\n}, {\n  telestage: MatchStage.TELEOP,\n  dock: dock[0],\n  cubeCounts: {\n    top: [],\n    middle: [],\n    bottom: []\n  },\n  coneCounts: {\n    top: [],\n    middle: [],\n    bottom: []\n  },\n  missedCounts: []\n}, {\n  postmatchstage: MatchStage.POST_MATCH,\n  defense: \"\",\n  comments: \"\",\n  player: false,\n  highNotes: 0\n}, {\n  metadatastage: MatchStage.METADATA,\n  timestamp: new Date()\n}];\nexport default class MatchScoutData {\n  constructor() {\n    this.stage = MatchStage.PRE_MATCH;\n    this.data = defaultData;\n    this.history = [];\n    this.historyCounter = 0;\n    this.alert = {\n      open: false,\n      message: \"\",\n      severity: \"success\"\n    };\n  }\n  get(stage, path) {\n    return this.data[stage][path];\n  }\n  getCount(stage, path, key) {\n    // TODO: change so that only return number of non missed notes \n    return this.data[stage][path][key].length;\n  }\n  setCount(stage, path, key, value, selectedRow) {\n    const target = this.data[stage][path][key];\n    if (value > this.getCount(stage, path, key)) {\n      target.push(`${value}-${intakeLocations[selectedRow]}`);\n    } else {\n      target.pop();\n    }\n  }\n  setDock(stage, value) {\n    this.data[stage][\"dock\"] = dock[value];\n  }\n  incrementMissedCount(stage, selectedRow) {\n    this.data[stage][\"missedCounts\"].push(intakeLocations[selectedRow]);\n  }\n  set(stage, path, value) {\n    this.history.push({\n      id: ++this.historyCounter,\n      stage: stage,\n      path: path,\n      value: this.data[stage][path],\n      time: new Date()\n    });\n    this.data[stage][path] = value;\n  }\n  clearIO(stage, index) {\n    this.history.push({\n      id: ++this.historyCounter,\n      stage: stage,\n      path: \"io\",\n      value: this.data[stage][\"io\"],\n      time: new Date()\n    });\n    this.data[stage][\"io\"][index] = {};\n  }\n  setIO(stage, index, type, value) {\n    this.history.push({\n      id: ++this.historyCounter,\n      stage: stage,\n      path: \"io\",\n      index: index,\n      value: {},\n      time: new Date()\n    });\n    this.data[stage][\"io\"][index][type] = value;\n  }\n  getIO(stage, index, type) {\n    if (this.data[stage][\"io\"][index] === undefined) {\n      this.data[stage][\"io\"][index] = {};\n    }\n    return this.data[stage][\"io\"][index][type];\n  }\n  async submit() {\n    const validation = this.validate(true);\n    if (!validation.valid) {\n      this.sendAlert(validation.message, \"error\");\n      return validation;\n    }\n    this.set(MatchStage.METADATA, \"timestamp\", Date.now());\n    const db = getFirestore();\n    let autoioCount = 0;\n    let teleioCount = 0;\n    const autoCubeCounts = [...defaultData[1].cubeCounts.top.map(item => `${item}-TOP`), ...defaultData[1].cubeCounts.middle.map(item => `${item}-MIDDLE`), ...defaultData[1].cubeCounts.bottom.map(item => `${item}-BOTTOM`)];\n    const autoConeCounts = [...defaultData[1].coneCounts.top.map(item => `${item}-TOP`), ...defaultData[1].coneCounts.middle.map(item => `${item}-MIDDLE`), ...defaultData[1].coneCounts.bottom.map(item => `${item}-BOTTOM`)];\n    const teleCubeCounts = [...defaultData[1].cubeCounts.top.map(item => `${item}-TOP`), ...defaultData[1].cubeCounts.middle.map(item => `${item}-MIDDLE`), ...defaultData[1].cubeCounts.bottom.map(item => `${item}-BOTTOM`)];\n    const teleConeCounts = [...defaultData[1].coneCounts.top.map(item => `${item}-TOP`), ...defaultData[1].coneCounts.middle.map(item => `${item}-MIDDLE`), ...defaultData[1].coneCounts.bottom.map(item => `${item}-BOTTOM`)];\n    autoioCount += autoCubeCounts.length + autoCubeCounts.length;\n    teleioCount += teleCubeCounts.length + teleCubeCounts.length;\n    const autoDockPosition = defaultData[1].dock;\n    const teleDockPosition = defaultData[2].dock;\n    const autoMissedCounts = defaultData[1].missedCounts;\n    const teleMissedCounts = defaultData[2].missedCounts;\n    let firebaseData = {\n      autoioCount: autoioCount,\n      teleioCount: teleioCount,\n      autoCubeCounts: autoCubeCounts,\n      autoConeCounts: autoConeCounts,\n      autoDockPosition: autoDockPosition,\n      teleCubeCounts: teleCubeCounts,\n      teleConeCounts: teleConeCounts,\n      teleDockPosition: teleDockPosition,\n      autoMissedCounts: autoMissedCounts,\n      teleMissedCounts: teleMissedCounts\n    };\n    for (const key in defaultData) {\n      for (const inner in defaultData[key]) {\n        firebaseData[`${inner}`] = `${defaultData[key][inner]}`;\n      }\n    }\n    delete firebaseData.io;\n    await setDoc(doc(db, \"matchScoutData\", defaultData[0].team + \"_\" + defaultData[0].match), firebaseData);\n    window.location.reload();\n    return true;\n  }\n  sendAlert(message, severity) {\n    this.alert.message = message;\n    this.alert.severity = severity;\n    this.alert.open = true;\n  }\n  validate(submit = false) {\n    return {\n      valid: true,\n      message: \"\"\n    };\n    let alert = null;\n    if (this.stage !== MatchStage.POST_MATCH && submit) alert = {\n      valid: false,\n      message: \"You must complete the match before submitting.\"\n    };\n    if (this.stage === MatchStage.PRE_MATCH) {\n      if (!Scouters.includes(this.get(MatchStage.PRE_MATCH, \"name\"))) alert = {\n        valid: false,\n        message: \"Error in checking your name. Did you make a typo?\"\n      };else if (this.get(MatchStage.PRE_MATCH, \"alliance\") === null) alert = {\n        valid: false,\n        message: \"Please select your team's alliance.\"\n      };else if (!Object.keys(DriverStation).includes(this.get(MatchStage.PRE_MATCH, \"driver_station\"))) alert = {\n        valid: false,\n        message: \"Please select your team's driver station.\"\n      };else if (!Object.keys(StartPosition).includes(this.get(MatchStage.PRE_MATCH, \"start_position\"))) alert = {\n        valid: false,\n        message: \"Please select your team's starting position.\"\n      };else if (this.get(MatchStage.PRE_MATCH, \"team\") === null) alert = {\n        valid: false,\n        message: \"Please select your assigned team.\"\n      };\n    } else if (this.stage === MatchStage.POST_MATCH) {\n      if (this.get(MatchStage.POST_MATCH, \"rating\") === 0) alert = {\n        valid: false,\n        message: \"Please rate your driver's performance.\"\n      };else if (this.get(MatchStage.POST_MATCH, \"defense\") && this.get(MatchStage.POST_MATCH, \"defense_rating\") === 0) alert = {\n        valid: false,\n        message: \"Please rate the your assigned team's defensive capabilities.\"\n      };\n    }\n    if (alert === null) alert = {\n      valid: true,\n      message: \"\"\n    };\n    if (!alert.valid) this.sendAlert(alert.message, \"error\");\n    return alert;\n  }\n}","map":{"version":3,"names":["DriverStation","MatchStage","StartPosition","Scouters","doc","getFirestore","setDoc","intakeLocations","dock","defaultData","prematchstage","PRE_MATCH","team","match","name","alliance","driver_station","start_position","autostage","AUTO","leave","io","intake","cubeCounts","top","middle","bottom","coneCounts","missedCounts","telestage","TELEOP","postmatchstage","POST_MATCH","defense","comments","player","highNotes","metadatastage","METADATA","timestamp","Date","MatchScoutData","constructor","stage","data","history","historyCounter","alert","open","message","severity","get","path","getCount","key","length","setCount","value","selectedRow","target","push","pop","setDock","incrementMissedCount","set","id","time","clearIO","index","setIO","type","getIO","undefined","submit","validation","validate","valid","sendAlert","now","db","autoioCount","teleioCount","autoCubeCounts","map","item","autoConeCounts","teleCubeCounts","teleConeCounts","autoDockPosition","teleDockPosition","autoMissedCounts","teleMissedCounts","firebaseData","inner","window","location","reload","includes","Object","keys"],"sources":["/Users/maxwelltan/Documents/GitHub/ScoutingApp2025/src/components/MatchScoutData.js"],"sourcesContent":["import {DriverStation, MatchStage, StartPosition} from \"./MatchConstants\";\nimport {Scouters} from \"./Scouters\";\nimport {doc, getFirestore, setDoc} from \"firebase/firestore\";\n\nconst intakeLocations = [\n    \"NO INTAKES\", \n    \"CENTER 1\",\n    \"CENTER 2\",\n    \"CENTER 3\",\n    \"CENTER 4\",\n    \"GROUND\",\n    \"SUBSTATION\",\n    \"MISSED\"\n]\n\nconst dock = [\n    \"Not Docked\",\n    \"Docked and Not Engaged\",\n    \"Docked and Engaged\"\n]\n\nconst defaultData = [\n    {\n        prematchstage: MatchStage.PRE_MATCH,\n        team: null,\n        match: null,\n        name: null,\n        alliance: null,\n        driver_station: null,\n        start_position: null,\n    },\n    {\n        autostage: MatchStage.AUTO,\n        leave: false,\n        dock: dock[0], \n        io: [\n            {intake: \"PRELOAD\"},\n        ],\n        cubeCounts: {\n            top: [],\n            middle: [],\n            bottom: [],\n        },\n        coneCounts: {\n            top: [],\n            middle: [],\n            bottom: [],\n        },\n        missedCounts: []\n    },\n    {\n        telestage: MatchStage.TELEOP,\n        dock: dock[0], \n        cubeCounts: {\n            top: [],\n            middle: [],\n            bottom: [],\n        },\n        coneCounts: {\n            top: [],\n            middle: [],\n            bottom: [],\n        },\n        missedCounts: []\n    },\n    {\n        postmatchstage: MatchStage.POST_MATCH,\n        defense: \"\",\n        comments: \"\",\n        player: false,\n        highNotes: 0,\n    },\n    {\n        metadatastage: MatchStage.METADATA,\n        timestamp: new Date(),\n    },\n];\nexport default class MatchScoutData {\n    constructor() {\n        this.stage = MatchStage.PRE_MATCH;\n        this.data = defaultData;\n        this.history = [];\n        this.historyCounter = 0;\n\n        this.alert = {\n            open: false,\n            message: \"\",\n            severity: \"success\",\n        };\n    }\n\n    get(stage, path) {\n        return this.data[stage][path];\n    }\n\n    getCount(stage, path, key) {\n        // TODO: change so that only return number of non missed notes \n        return this.data[stage][path][key].length;   \n    }\n\n    setCount(stage, path, key, value, selectedRow) {\n        const target = this.data[stage][path][key];\n        if (value > this.getCount(stage, path, key)) {\n            target.push(`${value}-${intakeLocations[selectedRow]}`);\n        } else {\n            target.pop();\n        }\n        \n    }\n\n    setDock(stage, value) {\n        this.data[stage][\"dock\"] = dock[value]; \n    }\n\n    incrementMissedCount(stage, selectedRow) {\n        this.data[stage][\"missedCounts\"].push(intakeLocations[selectedRow]); \n    }\n\n    set(stage, path, value) {\n        this.history.push({\n            id: ++this.historyCounter,\n            stage: stage,\n            path: path,\n            value: this.data[stage][path],\n            time: new Date(),\n        });\n        this.data[stage][path] = value;\n    }\n\n    clearIO(stage, index) {\n        this.history.push({\n            id: ++this.historyCounter,\n            stage: stage,\n            path: \"io\",\n            value: this.data[stage][\"io\"],\n            time: new Date(),\n        });\n        this.data[stage][\"io\"][index] = {};\n    }\n\n    setIO(stage, index, type, value) {\n        this.history.push({\n            id: ++this.historyCounter,\n            stage: stage,\n            path: \"io\",\n            index: index,\n            value: {},\n            time: new Date(),\n        });\n        this.data[stage][\"io\"][index][type] = value;\n    }\n\n    getIO(stage, index, type) {\n        if (this.data[stage][\"io\"][index] === undefined) {\n            this.data[stage][\"io\"][index] = {};\n        }\n        return this.data[stage][\"io\"][index][type];\n    }\n\n    async submit() {\n        const validation = this.validate(true);\n        if (!validation.valid) {\n            this.sendAlert(validation.message, \"error\");\n            return validation;\n        }\n\n        this.set(MatchStage.METADATA, \"timestamp\", Date.now());\n        const db = getFirestore();\n        let autoioCount = 0;\n        let teleioCount = 0;\n\n        const autoCubeCounts = [\n            ...defaultData[1].cubeCounts.top.map(item => `${item}-TOP`),\n            ...defaultData[1].cubeCounts.middle.map(item => `${item}-MIDDLE`),\n            ...defaultData[1].cubeCounts.bottom.map(item => `${item}-BOTTOM`)\n        ];\n        \n        const autoConeCounts = [\n            ...defaultData[1].coneCounts.top.map(item => `${item}-TOP`),\n            ...defaultData[1].coneCounts.middle.map(item => `${item}-MIDDLE`),\n            ...defaultData[1].coneCounts.bottom.map(item => `${item}-BOTTOM`)\n        ];\n\n        const teleCubeCounts = [\n            ...defaultData[1].cubeCounts.top.map(item => `${item}-TOP`),\n            ...defaultData[1].cubeCounts.middle.map(item => `${item}-MIDDLE`),\n            ...defaultData[1].cubeCounts.bottom.map(item => `${item}-BOTTOM`)\n        ];\n        \n        const teleConeCounts = [\n            ...defaultData[1].coneCounts.top.map(item => `${item}-TOP`),\n            ...defaultData[1].coneCounts.middle.map(item => `${item}-MIDDLE`),\n            ...defaultData[1].coneCounts.bottom.map(item => `${item}-BOTTOM`)\n        ];\n\n        autoioCount += autoCubeCounts.length + autoCubeCounts.length;\n        teleioCount += teleCubeCounts.length + teleCubeCounts.length;\n\n        const autoDockPosition = defaultData[1].dock;\n        const teleDockPosition = defaultData[2].dock;\n\n        const autoMissedCounts = defaultData[1].missedCounts;\n        const teleMissedCounts = defaultData[2].missedCounts;\n\n        let firebaseData = {\n            autoioCount: autoioCount,\n            teleioCount: teleioCount,\n            autoCubeCounts: autoCubeCounts,\n            autoConeCounts: autoConeCounts,\n            autoDockPosition: autoDockPosition,\n            teleCubeCounts: teleCubeCounts,\n            teleConeCounts: teleConeCounts,\n            teleDockPosition: teleDockPosition,\n            autoMissedCounts: autoMissedCounts,\n            teleMissedCounts: teleMissedCounts\n        };\n\n        for (const key in defaultData) {\n            for (const inner in defaultData[key]) {\n                firebaseData[`${inner}`] = `${defaultData[key][inner]}`;\n            }\n        }\n        delete firebaseData.io;\n        await setDoc(\n            doc(db, \"matchScoutData\", defaultData[0].team + \"_\" + defaultData[0].match),\n            firebaseData\n        );\n\n        window.location.reload();\n\n        return true;\n    }\n\n    sendAlert(message, severity) {\n        this.alert.message = message;\n        this.alert.severity = severity;\n        this.alert.open = true;\n    }\n\n    validate(submit = false) {\n        return {valid: true, message: \"\"};\n        let alert = null;\n        if (this.stage !== MatchStage.POST_MATCH && submit)\n            alert = {\n                valid: false,\n                message: \"You must complete the match before submitting.\",\n            };\n\n        if (this.stage === MatchStage.PRE_MATCH) {\n            if (!Scouters.includes(this.get(MatchStage.PRE_MATCH, \"name\")))\n                alert = {\n                    valid: false,\n                    message: \"Error in checking your name. Did you make a typo?\",\n                };\n            else if (this.get(MatchStage.PRE_MATCH, \"alliance\") === null)\n                alert = {\n                    valid: false,\n                    message: \"Please select your team's alliance.\",\n                };\n            else if (\n                !Object.keys(DriverStation).includes(\n                    this.get(MatchStage.PRE_MATCH, \"driver_station\")\n                )\n            )\n                alert = {\n                    valid: false,\n                    message: \"Please select your team's driver station.\",\n                };\n            else if (\n                !Object.keys(StartPosition).includes(\n                    this.get(MatchStage.PRE_MATCH, \"start_position\")\n                )\n            )\n                alert = {\n                    valid: false,\n                    message: \"Please select your team's starting position.\",\n                };\n            else if (this.get(MatchStage.PRE_MATCH, \"team\") === null)\n                alert = {\n                    valid: false,\n                    message: \"Please select your assigned team.\",\n                };\n        } else if (this.stage === MatchStage.POST_MATCH) {\n            if (this.get(MatchStage.POST_MATCH, \"rating\") === 0)\n                alert = {\n                    valid: false,\n                    message: \"Please rate your driver's performance.\",\n                };\n            else if (\n                this.get(MatchStage.POST_MATCH, \"defense\") &&\n                this.get(MatchStage.POST_MATCH, \"defense_rating\") === 0\n            )\n                alert = {\n                    valid: false,\n                    message:\n                        \"Please rate the your assigned team's defensive capabilities.\",\n                };\n        }\n\n        if (alert === null) alert = {valid: true, message: \"\"};\n\n        if (!alert.valid) this.sendAlert(alert.message, \"error\");\n\n        return alert;\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}